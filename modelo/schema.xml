<?xml version="1.0" encoding="utf-8"?>
<!--Autogenerated by PropelSchemaReverseTask class.-->

<database name="tickets" defaultIdMethod="native">
  <table name="admin" phpName="Admin" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="usuario" phpName="Usuario" type="VARCHAR" size="45" required="false"/>
    <column name="senha" phpName="Senha" type="VARCHAR" size="45" required="false"/>
    <column name="ativo" phpName="Ativo" type="VARCHAR" size="45" required="true" defaultValue="S"/>
    <column name="email" phpName="Email" type="VARCHAR" size="100" required="false"/>
    <unique name="usuario_UNIQUE">
      <unique-column name="usuario"/>
    </unique>
  </table>
  
  <table name="cliente" phpName="Cliente" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="nome" phpName="Nome" type="VARCHAR" size="45" required="false"/>
    <column name="sobrenome" phpName="Sobrenome" type="VARCHAR" size="45" required="false"/>
    <column name="nome_fantasia" phpName="NomeFantasia" type="VARCHAR" size="45" required="false"/>
    <column name="razao_social" phpName="RazaoSocial" type="VARCHAR" size="100" required="false"/>
    <column name="cpf" phpName="Cpf" type="VARCHAR" size="45" required="false"/>
    <column name="cnpj" phpName="Cnpj" type="VARCHAR" size="45" required="false"/>
    <column name="tipo" phpName="Tipo" type="VARCHAR" size="1" required="false" defaultValue="F"/>
    <column name="usuario" phpName="Usuario" type="VARCHAR" size="20" required="true"/>
    <column name="senha" phpName="Senha" type="VARCHAR" size="12" required="true"/>
    <column name="ativo" phpName="Ativo" type="VARCHAR" size="1" required="true" defaultValue="S"/>
    <column name="email" phpName="Email" type="VARCHAR" size="100" required="true"/>
    <column name="url" phpName="Url" type="VARCHAR" size="20" required="true"/>
    <unique name="usuario_UNIQUE">
      <unique-column name="usuario"/>
    </unique>
    <unique name="url_UNIQUE">
      <unique-column name="url"/>
    </unique>
    <unique name="cnpj_UNIQUE">
      <unique-column name="cnpj"/>
    </unique>
    <unique name="cpf_UNIQUE">
      <unique-column name="cpf"/>
    </unique>
  </table>
  
  <table name="comentario" phpName="Comentario" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="ticket" phpName="TicketId" type="INTEGER" required="true"/>
    <column name="origem" phpName="Origem" type="VARCHAR" size="1" required="true" defaultValue="C"/>
    <column name="data_hora" phpName="DataHora" type="TIMESTAMP" required="true"/>
    <column name="comentario" phpName="Comentario" type="LONGVARCHAR" required="true"/>
    <column name="atualizacao" phpName="Atualizacao" type="VARCHAR" size="1" required="true" defaultValue="N"/>
    <foreign-key foreignTable="ticket" name="fk_comentario_ticket_id" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="ticket" foreign="id"/>
    </foreign-key>
    <index name="comentario_ticket_id_idx">
      <index-column name="ticket"/>
    </index>
  </table>
  
  <table name="configuracao" phpName="Configuracao" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="manutencao" phpName="Manutencao" type="VARCHAR" size="1" required="true" defaultValue="N"/>
    <column name="host_bd" phpName="HostBd" type="VARCHAR" size="100" required="true"/>
    <column name="porta_bd" phpName="PortaBd" type="VARCHAR" size="45" required="true"/>
    <column name="usuario_bd" phpName="UsuarioBd" type="VARCHAR" size="45" required="true"/>
    <column name="nome_bd" phpName="NomeBd" type="VARCHAR" size="45" required="true"/>
    <column name="senha_bd" phpName="SenhaBd" type="VARCHAR" size="45" required="true"/>
    <column name="senha_email" phpName="SenhaEmail" type="VARCHAR" size="45" required="true"/>
    <column name="host_email" phpName="HostEmail" type="VARCHAR" size="80" required="true"/>
    <column name="usuario_email" phpName="UsuarioEmail" type="VARCHAR" size="80" required="true"/>
    <column name="porta_email" phpName="PortaEmail" type="VARCHAR" size="5" required="true"/>
    <column name="smtp_email" phpName="SmtpEmail" type="VARCHAR" size="1" required="true" defaultValue="N"/>
    <column name="remetente_email" phpName="RemetenteEmail" type="VARCHAR" size="50" required="true"/>
  </table>
  
  <table name="email" phpName="Email" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="ticket" phpName="TicketId" type="INTEGER" required="true"/>
    <column name="email" phpName="Email" type="VARCHAR" size="150" required="true"/>
    <foreign-key foreignTable="ticket" name="fk_email_ticket_id" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="ticket" foreign="id"/>
    </foreign-key>
    <index name="email_ticket_id_idx">
      <index-column name="ticket"/>
    </index>
  </table>
  
  <table name="endereco" phpName="Endereco" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="rua" phpName="Rua" type="VARCHAR" size="150" required="false"/>
    <column name="bairro" phpName="Bairro" type="VARCHAR" size="150" required="false"/>
    <column name="numero" phpName="Numero" type="INTEGER" required="false"/>
    <column name="cidade" phpName="Cidade" type="VARCHAR" size="150" required="false"/>
    <column name="estado" phpName="Estado" type="INTEGER" required="false"/>
    <column name="cep" phpName="Cep" type="VARCHAR" size="15" required="false"/>
    <column name="complemento" phpName="Complemento" type="VARCHAR" size="150" required="false"/>
    <column name="cliente" phpName="ClienteId" type="INTEGER" required="false"/>
    <foreign-key foreignTable="cliente" name="fk_endereco_cliente_id" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="cliente" foreign="id"/>
    </foreign-key>
    <index name="fk_endereco_cliente_id_idx">
      <index-column name="cliente"/>
    </index>
  </table>
  
  <table name="imagem" phpName="Imagem" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="comentario" phpName="ComentarioId" type="INTEGER" required="false"/>
    <column name="nome" phpName="Nome" type="VARCHAR" size="250" required="false"/>
    <column name="legenda" phpName="Legenda" type="VARCHAR" size="100" required="false"/>
    <foreign-key foreignTable="comentario" name="fk_imagem_comentario_id" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="comentario" foreign="id"/>
    </foreign-key>
    <index name="imagem_comentario_id_idx">
      <index-column name="comentario"/>
    </index>
  </table>
  
  <table name="mensagem" phpName="Mensagem" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="mensagem" phpName="Mensagem" type="LONGVARCHAR" required="true"/>
    <column name="obrigatorio" phpName="Obrigatorio" type="VARCHAR" size="1" required="true" defaultValue="N"/>
    <column name="data_hora" phpName="DataHora" type="TIMESTAMP" required="false"/>
  </table>
  
  <table name="mensagem_cliente" phpName="MensagemCliente" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="mensagem" phpName="MensagemId" type="INTEGER" required="false"/>
    <column name="cliente" phpName="ClienteId" type="INTEGER" required="false"/>
    <column name="lido" phpName="Lido" type="VARCHAR" size="1" required="true" defaultValue="N"/>
    <foreign-key foreignTable="mensagem" name="fk_mensagem_cliente_mensagem_id" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="mensagem" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="cliente" name="fk_mensagem_cliente_cliente" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="cliente" foreign="id"/>
    </foreign-key>
    <index name="mensagem_cliente_mensagem_id_idx">
      <index-column name="mensagem"/>
    </index>
    <index name="fk_mensagem_cliente_cliente_idx">
      <index-column name="cliente"/>
    </index>
  </table>
  
  <table name="seguranca" phpName="Seguranca" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="ip" phpName="Ip" type="VARCHAR" size="20" required="true"/>
    <column name="usuario" phpName="Usuario" type="VARCHAR" size="45" required="false"/>
  </table>
  
  <table name="telefone" phpName="Telefone" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="cliente" phpName="ClienteId" type="INTEGER" required="true"/>
    <column name="telefone" phpName="Telefone" type="VARCHAR" size="15" required="true"/>
    <column name="descricao" phpName="Descricao" type="VARCHAR" size="15" required="false" defaultValue="Telefone"/>
    <foreign-key foreignTable="cliente" name="fk_telefone_cliente_id" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="cliente" foreign="id"/>
    </foreign-key>
    <index name="fk_telefone_cliente_id_idx">
      <index-column name="cliente"/>
    </index>
  </table>
  
  <table name="ticket" phpName="Ticket" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="cliente" phpName="ClienteId" type="INTEGER" required="false"/>
    <column name="ativo" phpName="Ativo" type="VARCHAR" size="1" required="true" defaultValue="S"/>
    <column name="data_inicio" phpName="DataInicio" type="DATE" required="false"/>
    <column name="data_final" phpName="DataFinal" type="DATE" required="false"/>
    <column name="hora_inicio" phpName="HoraInicio" type="TIME" required="false"/>
    <column name="hora_final" phpName="HoraFinal" type="TIME" required="false"/>
    <column name="senha" phpName="Senha" type="VARCHAR" size="20" required="true"/>
    <column name="andamento" phpName="Andamento" type="INTEGER" required="false"/>
    <column name="data_prazo" phpName="DataPrazo" type="DATE" required="false"/>
    <column name="hora_prazo" phpName="HoraPrazo" type="TIME" required="false"/>
    <column name="valor" phpName="Valor" type="DOUBLE" required="false"/>
    <foreign-key foreignTable="cliente" name="fk_ticket_cliente_id" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="cliente" foreign="id"/>
    </foreign-key>
    <index name="ticket_cliente_id_idx">
      <index-column name="cliente"/>
    </index>
  </table>
  
</database>
